<h2>Wallet migration</h2>
<p style="text-align: center"><i>Provisional in-wallet help</i></p>
<p>
    There are two situations where a wallet needs to be migrated. Older JSON wallets are migrated
    to the latest database format. And more recent database wallets are also migrated to the latest
    format when necessary.
</p>
<p>
    If your wallet migrated successfully, just click the finish button and this wizard will close
    and your wallet will open.
</p>
<h3>Backups</h3>
<p>
    All wallet migrations back up the wallet within the same directory the original wallet
    file is located. The process can be illustrated as follows:
    <ol>
        <li>A user opens a wallet named <code>mywallet</code>.</li>
        <li>The migration process will rename <code>mywallet</code> to
            <code>mywallet.backup.1</code>. If that file name is already in use, then it will
            increase the number at the end. It will try and use <code>mywallet.backup.2</code>,
            and if that fails it will try <code>mywallet.backup.3</code> and so on.</li>
        <li>The migration process will create the migrated wallet as
            <code>mywallet.sqlite</code></li>
    </ol>
</p>
<h3>Migration problems</h3>
<p>
    For the most part, there will not be any problems encountered when migrating your wallet.
    But some wallets will fail to migrate, and if that happens to you, you should be able to
    use the information below to aid you in discovering why or what to do in this situation.
</p>
<h4>Why did it fail?</h4>
<p>
    There is only one identified situation where wallet migration fails. This is where the wallet
    data is incomplete, and the migration process cannot link it together and finds that data it
    needs is missing.
</p>
<h4>What can I do?</h4>
<p>
    Open the wallet using ElectrumSV 1.2.5 and wait for it to synchronize. Make sure it connected
    to the network to do so, and that it is fully up-to-date. In order to maintain sane wallet
    file names you may want to:
    <ol>
        <li>Delete the failed <code>.sqlite</code> migrated wallet.</li>
        <li>Rename the <code>.backup.1</code> file to it's original name.</li>
    </ol>
    To understand the cause of the naming, it may help to read the backup section above.
</p>
<p>
   Otherwise, please follow these steps:
   <ol>
        <li>Open a DOS window, shell or terminal depending on your operating system.</li>
        <li>Run ElectrumSV from the command-line with the extra argument <code>-v=debug</code>. For
           example:<br/><br/>
           MacOS: <code>/Applications/ElectrumSV.app/Contents/MacOS/1.3.17 -v=debug</code><br/>
           Windows: <code>ElectrumSV-1.3.17.exe -v=debug</code><br/>
           This should output debugging information which will be useful for whomever attempts
           to fix the problem.
        </li>
        <li>Find the original wallet file, or the backup the failed migration process created,
            and open it. It should fail migration again.</li>
        <li>Exit ElectrumSV, and then copy the output which should also include an error.</li>
        <li><a href="https://github.com/electrumsv/electrumsv/issues">Submit an issue</a> providing
            both that output and as much information as possible.</li>
   </ol>
</p>
